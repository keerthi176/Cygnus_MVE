/*************************************************************************************
*  CONFIDENTIAL Bull Products Ltd.
**************************************************************************************
*  Cygnus2
*  Copyright 2018 Bull Products Ltd. All rights reserved.
*  Beacon House, 4 Beacon Rd
*  Rotherwas Industrial Estate
*  Hereford HR2 6JF UK
*  Tel: <44> 1432806806
*
**************************************************************************************
*  File         : DP_Debug.cpp
*
*  Description  :
*
*************************************************************************************/
#include	"DP_Debug.h"
#include "CO_Defines.h"
#include "CO_SerialDebug.h"

#define	HDF_DEBUG_UART_OUTPUT

static	uint32_t	ulDP_Debug_Mask = 0xffffffff;		// ALL debug output - TEMP!!!!!!



/*!
 *************************************************************************************************
 **************************************************************************************************
 ** @function	: m_Enable
 **
 ** @brief		:
 **
 ** @param		:
 **
 ** @return		: VOID
 **************************************************************************************************
 **************************************************************************************************/
void DP_Debug_Enable		( ENUM_DEBUG_MASK enuMask )
{
	ulDP_Debug_Mask |= enuMask;
}





/*!
 *************************************************************************************************
 **************************************************************************************************
 ** @function	: m_Disable
 **
 ** @brief		:
 **
 ** @param		:
 **
 ** @return		: VOID
 **************************************************************************************************
 **************************************************************************************************/
void DP_Debug_Disable		( ENUM_DEBUG_MASK enuMask )
{
	ulDP_Debug_Mask &= ~enuMask;
}




/*!
 *************************************************************************************************
 **************************************************************************************************
 ** @function	: m_Print
 **
 ** @brief		: Send zero-terminated string through the UART ( No Carriage Return or Line-Feed )
 **
 ** @param		: 
 **
 ** @return		:VOID
 **************************************************************************************************
 **************************************************************************************************/
void DP_Debug_Print	( ENUM_DEBUG_MASK enuMask, int8_t *pszString )
{
#ifdef HDF_DEBUG_UART_OUTPUT

	// ?? Has the mask bit been set. ??
	if ( enuMask & ulDP_Debug_Mask )
	{
		CO_PRINT_A_0( DBG_NOPREFIX, (char*)pszString );
	}
#endif
}




/*!
 *************************************************************************************************
 **************************************************************************************************
 ** @function	: m_PrintCR
 **
 ** @brief		: Send zero-terminated string through the UART ( With Carriage Return & Line-Feed )
 **
 ** @param		:
 **
 ** @return		: VOID
 **************************************************************************************************
 **************************************************************************************************/
void DP_Debug_PrintCR	( ENUM_DEBUG_MASK enuMask, int8_t *pszString )
{
#ifdef HDF_DEBUG_UART_OUTPUT

	// ?? Has the mask bit been set. ??
	if ( enuMask & ulDP_Debug_Mask )
	{
		CO_PRINT_A_0( DBG_NOPREFIX, (char*)pszString );
		CO_PRINT_A_0( DBG_NOPREFIX, "\r\n" );
	}
#endif
}




/*!
 *************************************************************************************************
 **************************************************************************************************
 ** @function	: DP_Debug_Tester
 **
 ** @brief		:
 **
 ** @param		: VOID
 **
 ** @return		: VOID
 **************************************************************************************************
 **************************************************************************************************/
void DP_Debug_Tester	( void )
{
}


/***************************************************************************************************
 ***************************************************************************************************
 **	EOF!	EOF!	EOF!	EOF!	EOF!	EOF!	EOF!	EOF!	EOF!	EOF!	EOF!	EOF!
 ***************************************************************************************************
 **************************************************************************************************/
